/* Компоненты UI для ICT системы */

/* Кнопки */
.btn-primary {
    @apply inline-flex items-center justify-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 shadow-sm hover:shadow-md;
}

.btn-secondary {
    @apply inline-flex items-center justify-center px-4 py-2 bg-gray-100 text-gray-700 text-sm font-medium rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-all duration-200 border border-gray-300;
}

.btn-danger {
    @apply inline-flex items-center justify-center px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-all duration-200 shadow-sm hover:shadow-md;
}

.btn-success {
    @apply inline-flex items-center justify-center px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-all duration-200 shadow-sm hover:shadow-md;
}

.btn-sm {
    @apply px-3 py-1.5 text-xs;
}

.btn-lg {
    @apply px-6 py-3 text-base;
}

.btn-full {
    @apply w-full;
}

/* Карточки */
.card {
    @apply bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden;
}

.card-header {
    @apply px-6 py-4 border-b border-gray-200 bg-gray-50;
}

.card-body {
    @apply px-6 py-4;
}

.card-footer {
    @apply px-6 py-4 border-t border-gray-200 bg-gray-50;
}

/* Формы */
.form-input {
    @apply block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 transition-colors duration-200;
}

.form-input:focus {
    @apply ring-2 ring-blue-500 border-blue-500;
}

.form-input.error {
    @apply border-red-300 focus:border-red-500 focus:ring-red-500;
}

.form-label {
    @apply block text-sm font-medium text-gray-700 mb-1;
}

.form-error {
    @apply text-sm text-red-600 mt-1;
}

.form-help {
    @apply text-sm text-gray-500 mt-1;
}

/* Контейнеры */
.container-width {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
}

.section-padding {
    @apply py-8;
}

/* Статусы */
.status-open {
    @apply bg-blue-100 text-blue-800;
}

.status-in-progress {
    @apply bg-yellow-100 text-yellow-800;
}

.status-resolved {
    @apply bg-green-100 text-green-800;
}

.status-closed {
    @apply bg-gray-100 text-gray-800;
}

/* Приоритеты */
.priority-low {
    @apply bg-green-100 text-green-800;
}

.priority-medium {
    @apply bg-yellow-100 text-yellow-800;
}

.priority-high {
    @apply bg-orange-100 text-orange-800;
}

.priority-urgent {
    @apply bg-red-200 text-red-900;
}

/* Анимации */
.animate-fade-in {
    animation: fadeIn 0.3s ease-in-out;
}

.animate-slide-up {
    animation: slideUp 0.3s ease-out;
}

.animate-pulse-once {
    animation: pulseOnce 0.5s ease-in-out;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes pulseOnce {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: 0.5;
    }
}

/* Утилиты */
.line-clamp-1 {
    @apply overflow-hidden;
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
}

.line-clamp-2 {
    @apply overflow-hidden;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
}

.line-clamp-3 {
    @apply overflow-hidden;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
}

/* Загрузка */
.loading-spinner {
    @apply animate-spin rounded-full border-2 border-gray-300 border-t-blue-600;
}

.loading-overlay {
    @apply absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center z-10;
}

/* Уведомления */
.notification {
    @apply fixed top-4 right-4 z-50 max-w-sm w-full bg-white rounded-lg shadow-lg border border-gray-200 p-4 transform transition-all duration-300;
}

.notification.success {
    @apply border-green-200 bg-green-50;
}

.notification.error {
    @apply border-red-200 bg-red-50;
}

.notification.warning {
    @apply border-yellow-200 bg-yellow-50;
}

.notification.info {
    @apply border-blue-200 bg-blue-50;
}

.animate-fade-out {
    animation: fadeOut 0.3s ease-in-out forwards;
}

@keyframes fadeOut {
    from {
        opacity: 1;
        transform: translateX(0);
    }
    to {
        opacity: 0;
        transform: translateX(100%);
    }
}

/* Таблицы */
.table-responsive {
    @apply overflow-x-auto;
}

.table {
    @apply min-w-full divide-y divide-gray-200;
}

.table th {
    @apply px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50;
}

.table td {
    @apply px-6 py-4 whitespace-nowrap text-sm text-gray-900;
}

.table tbody tr:hover {
    @apply bg-gray-50;
}

/* Модальные окна */
.modal-overlay {
    @apply fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50;
}

.modal {
    @apply bg-white rounded-lg shadow-xl max-w-md w-full mx-4 max-h-screen overflow-y-auto;
}

.modal-header {
    @apply px-6 py-4 border-b border-gray-200 flex items-center justify-between;
}

.modal-body {
    @apply px-6 py-4;
}

.modal-footer {
    @apply px-6 py-4 border-t border-gray-200 flex justify-end space-x-3;
}

/* Выпадающие меню */
.dropdown {
    @apply relative inline-block;
}

.dropdown-menu {
    @apply absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg border border-gray-200 z-50 hidden;
}

.dropdown-item {
    @apply block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors duration-200;
}

/* Поиск */
.search-input {
    @apply block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500;
}

.search-icon {
    @apply absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none;
}

/* Фильтры */
.filter-section {
    @apply bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6;
}

.filter-grid {
    @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4;
}

/* Статистика */
.stat-card {
    @apply bg-white rounded-lg shadow-sm border border-gray-200 p-6 text-center;
}

.stat-number {
    @apply text-2xl font-bold text-gray-900 mb-1;
}

.stat-label {
    @apply text-sm text-gray-600;
}

/* Адаптивность */
@media (max-width: 640px) {
    .container-width {
        @apply px-4;
    }
    
    .section-padding {
        @apply py-4;
    }
    
    .btn-lg {
        @apply px-4 py-2 text-sm;
    }
    
    .card-body {
        @apply px-4 py-3;
    }
    
    .table th,
    .table td {
        @apply px-3 py-2 text-xs;
    }
}

/* Темная тема (опционально) */
@media (prefers-color-scheme: dark) {
    .dark .card {
        @apply bg-gray-800 border-gray-700;
    }
    
    .dark .form-input {
        @apply bg-gray-800 border-gray-600 text-white;
    }
    
    .dark .form-label {
        @apply text-gray-300;
    }
}

/* Доступность */
.sr-only {
    @apply absolute w-px h-px p-0 -m-px overflow-hidden whitespace-nowrap border-0;
}

.focus-visible {
    @apply focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2;
}

/* Высокий контраст */
.high-contrast .card {
    @apply border-2 border-gray-800;
}

.high-contrast .btn-primary {
    @apply bg-blue-800 border-2 border-blue-900;
}

.high-contrast .btn-secondary {
    @apply bg-gray-800 border-2 border-gray-900 text-white;
}

.high-contrast .form-input {
    @apply border-2 border-gray-800;
}

.high-contrast .form-input:focus {
    @apply border-blue-800 ring-4 ring-blue-200;
}

/* Уменьшенная анимация */
.reduced-motion * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
}

.reduced-motion .animate-spin {
    animation: none !important;
}

/* Улучшения для скрин-ридеров */
[aria-hidden="true"] {
    @apply sr-only;
}

[aria-expanded="false"] + [role="menu"] {
    @apply hidden;
}

[aria-expanded="true"] + [role="menu"] {
    @apply block;
}

/* Улучшения для фокуса */
.focus-visible:focus {
    @apply outline-none ring-2 ring-blue-500 ring-offset-2;
}

/* Улучшения для таблиц */
.table th {
    @apply font-semibold;
}

.table th[scope="col"] {
    @apply text-left;
}

.table th[scope="row"] {
    @apply text-right pr-4;
}

/* Улучшения для форм */
.form-input:invalid {
    @apply border-red-500;
}

.form-input:invalid:focus {
    @apply ring-red-500 border-red-500;
}

.form-error {
    @apply text-red-600 text-sm mt-1;
}

/* Улучшения для кнопок */
button:disabled {
    @apply opacity-50 cursor-not-allowed;
}

button:disabled:hover {
    @apply transform-none;
}

/* Улучшения для ссылок */
a:focus {
    @apply outline-none ring-2 ring-blue-500 ring-offset-2 rounded;
}

/* Улучшения для выпадающих меню */
.dropdown-menu[aria-hidden="true"] {
    @apply hidden;
}

.dropdown-menu[aria-hidden="false"] {
    @apply block;
}

/* Улучшения для модальных окон */
.modal-overlay[aria-hidden="true"] {
    @apply hidden;
}

.modal-overlay[aria-hidden="false"] {
    @apply flex;
}

/* Улучшения для уведомлений */
.notification[aria-live="polite"] {
    @apply animate-fade-in;
}

.notification[aria-live="assertive"] {
    @apply animate-slide-up;
}

/* Печать */
@media print {
    .no-print {
        @apply hidden;
    }
    
    .card {
        @apply shadow-none border border-gray-300;
    }
    
    .btn-primary,
    .btn-secondary {
        @apply bg-transparent text-gray-900 border border-gray-300;
    }
}
