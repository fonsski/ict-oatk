# WebSocket Real-time Updates - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ó–∞–ø—É—Å–∫ WebSocket —Å–µ—Ä–≤–µ—Ä–∞

```bash
# –ó–∞–ø—É—Å–∫ WebSocket —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –ø–æ—Ä—Ç—É 8080
./start-websocket.sh

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é:
php artisan websocket:serve --port=8080
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É "–í—Å–µ –∑–∞—è–≤–∫–∏" –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –û—Ç–∫—Ä–æ–π—Ç–µ Developer Tools (F12) ‚Üí Console
3. –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ: "WebSocket: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ"

## üì° –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã:

1. **WebSocket —Ä–µ–∂–∏–º** (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π):
   - –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∑–∞—è–≤–æ–∫
   - –≠–∫–æ–Ω–æ–º–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

2. **HTTP Polling —Ä–µ–∂–∏–º** (fallback):
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
   - –†–∞–±–æ—Ç–∞–µ—Ç –µ—Å–ª–∏ WebSocket –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ:

- –ï—Å–ª–∏ WebSocket –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ HTTP polling
- –ï—Å–ª–∏ WebSocket –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è ‚Üí –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ WebSocket

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Ä—Ç–∞ WebSocket:

```bash
php artisan websocket:serve --port=9000
```

### –û—Ç–∫–ª—é—á–µ–Ω–∏–µ WebSocket (—Ç–æ–ª—å–∫–æ HTTP polling):

–í —Ñ–∞–π–ª–∞—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π –∏–∑–º–µ–Ω–∏—Ç–µ:
```javascript
useWebSocket: false, // –í–º–µ—Å—Ç–æ true
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ HTTP polling:

```javascript
refreshInterval: 5000, // 5 —Å–µ–∫—É–Ω–¥ –≤–º–µ—Å—Ç–æ 1 —Å–µ–∫—É–Ω–¥—ã
```

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### WebSocket –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω:**
   ```bash
   ./start-websocket.sh
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:**
   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `ws://yourdomain.com:8080`
   - –ï—Å–ª–∏ localhost: `ws://localhost:8080`

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π—Ä–≤–æ–ª:**
   ```bash
   # Ubuntu/Debian
   sudo ufw allow 8080
   
   # CentOS/RHEL
   sudo firewall-cmd --permanent --add-port=8080/tcp
   sudo firewall-cmd --reload
   ```

### Fallback –Ω–∞ HTTP polling:

–ï—Å–ª–∏ WebSocket –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—Å—è –Ω–∞ HTTP polling –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É. –≠—Ç–æ –≤–∏–¥–Ω–æ –≤ –∫–æ–Ω—Å–æ–ª–∏:
```
LiveUpdates: WebSocket –æ—Ç–∫–ª—é—á–µ–Ω
LiveUpdates: –ò—Å–ø–æ–ª—å–∑—É–µ–º HTTP polling
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏ WebSocket —Å–µ—Ä–≤–µ—Ä–∞:

–í –∫–æ–Ω—Å–æ–ª–∏ –≥–¥–µ –∑–∞–ø—É—â–µ–Ω —Å–µ—Ä–≤–µ—Ä –≤–∏–¥–Ω—ã –≤—Å–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:
```
New connection! (123)
Connection 123 sending message "..." to 2 other connections
Connection 123 has disconnected
```

### –õ–æ–≥–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

–û—Ç–∫—Ä–æ–π—Ç–µ Developer Tools ‚Üí Console –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞:
- –°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- –û—à–∏–±–∫–∏
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É —Ä–µ–∂–∏–º–∞–º–∏

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ WSS (WebSocket Secure):**
   ```javascript
   websocketUrl: 'wss://yourdomain.com:8080'
   ```

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ reverse proxy (Nginx):**
   ```nginx
   location /ws {
       proxy_pass http://localhost:8080;
       proxy_http_version 1.1;
       proxy_set_header Upgrade $http_upgrade;
       proxy_set_header Connection "upgrade";
       proxy_set_header Host $host;
   }
   ```

3. **–û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –ø–æ IP:**
   ```bash
   # –í WebSocket —Å–µ—Ä–≤–µ—Ä–µ –¥–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É IP
   ```

## üöÄ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:

- **WebSocket**: ~0.1KB –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- **HTTP Polling**: ~2-5KB –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
- **–≠–∫–æ–Ω–æ–º–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞**: –¥–æ 95% –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ WebSocket

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ WebSocket –¥–ª—è production
- HTTP polling –∫–∞–∫ fallback
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π

## üìù API

### WebSocket —Å–æ–æ–±—â–µ–Ω–∏—è:

**–û—Ç –∫–ª–∏–µ–Ω—Ç–∞ –∫ —Å–µ—Ä–≤–µ—Ä—É:**
```javascript
{ type: 'get_tickets' }  // –ó–∞–ø—Ä–æ—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞—è–≤–æ–∫
```

**–û—Ç —Å–µ—Ä–≤–µ—Ä–∞ –∫ –∫–ª–∏–µ–Ω—Ç—É:**
```javascript
{
  tickets: [...],        // –ú–∞—Å—Å–∏–≤ –∑–∞—è–≤–æ–∫
  stats: {...},          // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
  last_updated: "..."    // –í—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
}
```

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** {{ date('Y-m-d H:i:s') }}
**–í–µ—Ä—Å–∏—è:** 1.0
**–ê–≤—Ç–æ—Ä:** AI Assistant
